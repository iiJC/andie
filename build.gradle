plugins {
    id 'application'
    id 'java'
}

def defaultMainClassName = 'cosc202.andie.Andie'

application {
    mainClass = project.hasProperty('mainClass') ? project.getProperty('mainClass') : defaultMainClassName
}

repositories {
    mavenCentral()
}

sourceCompatibility = '11'
targetCompatibility = '11'

sourceSets {
    main {
        resources {
            srcDirs = ['src/resources']
        }
        java {
            srcDirs = ['src']
        }
    }
    test {
        java {
            srcDirs = ['src/test/java']
        }
    }
}

dependencies {
    testImplementation group: 'org.junit.jupiter', name: 'junit-jupiter', version: '5.10.2'
}

jar {
    manifest {
        attributes(
            'Main-Class': defaultMainClassName
        )
    }
}

test {
    useJUnitPlatform()
}

tasks.named('javadoc') {
    destinationDir = file("$buildDir/docs/javadoc")
}

run {
    standardInput = System.in
}
